<section class="section about-section gray-bg" id="about">
  <div class="container">
    <div class="row align-items-center flex-row-reverse">
      <div class="col-lg-6">
        <div class="about-text go-to">
          <h3 class="dark-color">{{cagnotte.cagnotteTitle}}</h3>
          <h6 class="theme-color lead"></h6>
          <p>{{cagnotte.cagnotteDescription}}</p>
          <div class="row about-list">
            <div class="col-md-12">
              <div class="media">
                <label>Money Collected</label>
                <p>{{cagnotte.moneyCollected}} TND</p>
              </div>
              <div class="media">
                <label>Type of Jackpot</label>
                <p>{{cagnotte.typeCagnotte}}</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-6">
        <div class="about-avatar">
          <img src="../assets/images/{{cagnotte.image}}" title="" alt="">
        </div>
      </div>
    </div>
    <br><br>
    <mat-card>
      <mat-card-content>
        <h4 class="mb-32">Donations for "{{cagnotte.cagnotteTitle}}"</h4>
        <mat-card-title></mat-card-title>
        <mat-accordion>
          <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
            <mat-expansion-panel-header>
              <mat-panel-title> Check the donations </mat-panel-title>
              <mat-panel-description> If you want </mat-panel-description>
            </mat-expansion-panel-header>
            <div class="table-responsive">
              <table mat-table [dataSource]="donationList" class="text-nowrap w-100">
                <ng-container matColumnDef="amount">
                  <th mat-header-cell *matHeaderCellDef> Amount </th>
                  <td mat-cell class="fw-medium" *matCellDef="let donation"> {{donation.amount}} TND </td>
                </ng-container>
                <ng-container matColumnDef="date">
                  <th mat-header-cell *matHeaderCellDef> Date</th>
                  <td mat-cell *matCellDef="let donation ">
                    <p class="mb-0 fw-medium">{{ donation.dateDonation | date}} </p>
                    <p class="mb-0 fw-normal op-5">{{ donation.donationId }}</p>
                  </td>
                </ng-container>
                <!-- <ng-container matColumnDef="user">
                  <th mat-header-cell *matHeaderCellDef> Added By</th>
                  <td mat-cell class="fw-medium" *matCellDef="let donation"> {{donation.user }}  </td>
                </ng-container> -->
                <ng-container matColumnDef="action">
                  <th mat-header-cell *matHeaderCellDef> Action</th>
                  <td mat-cell *matCellDef="let donation ">
                    <button (click)="deletedonation(donation.donationId)" mat-mini-fab class="mb-8 me-8" color="warn">
                      <mat-icon aria-label="Example icon-button with a trash icon">delete</mat-icon>
                    </button>
                  </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
              </table>
            </div>
          </mat-expansion-panel>
          <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
            <mat-expansion-panel-header>
              <mat-panel-title> Do you want to donate ? </mat-panel-title>
              <mat-panel-description> Please type the amount </mat-panel-description>
            </mat-expansion-panel-header>
            <mat-form-field>
              <input matInput placeholder="Amount" [(ngModel)]="donation.amount" name="amount">
            </mat-form-field>
            <button mat-button color="primary" type="submit"
              (click)="addDonationtoCagnottetouser(cagnotte.cagnotteId)">Save</button>
          </mat-expansion-panel>
        </mat-accordion>
      </mat-card-content>
    </mat-card>
    <mat-card>
      <mat-card-content>
        <h4 class="mb-32">WithDrawals from "{{cagnotte.cagnotteTitle}}"</h4>
        <mat-card-title></mat-card-title>
        <mat-accordion>
          <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
            <mat-expansion-panel-header>
              <mat-panel-title> Check the withdrawals </mat-panel-title>
              <mat-panel-description> If you want </mat-panel-description>
            </mat-expansion-panel-header>
            <div class="table-responsive">
              <table mat-table [dataSource]="drawalList" class="text-nowrap w-100">
                <ng-container matColumnDef="ammount">
                  <th mat-header-cell *matHeaderCellDef> Amount </th>
                  <td mat-cell class="fw-medium" *matCellDef="let drawal"> {{drawal.ammount}} TND </td>
                </ng-container>
                <ng-container matColumnDef="date">
                  <th mat-header-cell *matHeaderCellDef> Date</th>
                  <td mat-cell *matCellDef="let drawal ">
                    <p class="mb-0 fw-medium">{{ drawal.datewithdrawal | date}} </p>
                    <p class="mb-0 fw-normal op-5">{{ drawal.idWithdrawal }}</p>
                  </td>
                </ng-container>
                
                <ng-container matColumnDef="action">
                  <th mat-header-cell *matHeaderCellDef> Action</th>
                  <td mat-cell *matCellDef="let drawal ">
                    <button (click)="deletedrawal(drawal.idWithdrawal)" mat-mini-fab class="mb-8 me-8" color="warn">
                      <mat-icon aria-label="Example icon-button with a trash icon">delete</mat-icon>
                    </button>
                  </td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns2;"></tr>
              </table>
            </div>
          </mat-expansion-panel>
          <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
            <mat-expansion-panel-header>
              <mat-panel-title> Do you want to extract ? </mat-panel-title>
              <mat-panel-description> Please type the amount </mat-panel-description>
            </mat-expansion-panel-header>
            <mat-form-field>
              <input matInput placeholder="Amount" [(ngModel)]="drawal.ammount" name="ammount">
            </mat-form-field>
            <button mat-button color="primary" type="submit"
              (click)="addDrawaltoCagnotte(cagnotte.cagnotteId)">Save</button>
          </mat-expansion-panel>
        </mat-accordion>
      </mat-card-content>
    </mat-card>
  </div>
</section>